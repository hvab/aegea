$&&$(function(){!function(e){function a(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var t={};a.m=e,a.c=t,a.d=function(e,t,d){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:d})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="",a(a.s=28)}({1:function(e,a,t){"use strict";function d(e,a){var t=e.find("animateTransform");t.length&&(a?(t[0].setAttribute("repeatCount","indefinite"),t[0].beginElement()):t[0].setAttribute("repeatCount","1"))}Object.defineProperty(a,"__esModule",{value:!0}),a.default=d},28:function(e,a,t){"use strict";var d=t(1),n=function(e){return e&&e.__esModule?e:{default:e}}(d);"undefined"!=typeof $&&$(function(){function e(){m.prop("disabled",!l||/^ *$/.test(j.val()))}function a(){o&&o.abort(),s&&s.abort(),Boolean(i)===y.hasClass(v)&&y.add(x).toggleClass(v),f=!1}function t(){$(".db-everything-ok").removeClass("e2-verified").addClass("e2-wrong"),u["db-responding"]&&($(".db-server-ok").removeClass("e2-wrong").addClass("e2-verified"),f&&C.focus(),u["db-connected"]&&($(".db-user-password-ok, .db-database-ok").removeClass("e2-wrong").addClass("e2-verified"),$("#db-database-message-text").text(u.message),u.message?$("#db-database-message").slideDown(333):$("#db-database-message").slideUp(333),u["db-compatible"]&&u["db-good"]&&($(".db-everything-ok").removeClass("e2-wrong").addClass("e2-verified"),f&&j.focus())))}function d(){i=0;var v,m;(0,n.default)(b,1),b.removeClass(c);var x={"db-server":g.val(),"db-user":C.val(),"db-password":h.val(),"db-database":w.val()};$.ajaxSetup({type:"post",timeout:1e4,data:x}),g.data("e2OldValue",x["db-server"]),C.data("e2OldValue",x["db-user"]),h.data("e2OldValue",x["db-password"]),w.data("e2OldValue",x["db-database"]),O.data("e2OldValue",x["db-database"]),r&&clearTimeout(r),r=setTimeout(function(){o&&o.abort(),s&&s.abort(),o=$.ajax({url:p.attr("data-action-database-config"),success:function(n){u=JSON.parse(n),t(),u["db-connected"]?(o&&o.abort(),s&&s.abort(),s=$.ajax({url:p.attr("data-action-databases-list"),success:function(e){if(e=JSON.parse(e),"success"===e.status){var a=e["databases-list"],t=w.val();if(""===w.val())w.val(a[0]);else for(var n in a)if(a[n].match(RegExp("^"+w.val()))){w.val(a[n]);break}O.empty();for(var o in a)++i,O.append('<option id="db-database-option-'+a[o]+'">'+a[o]+"</option>");O.find("#db-database-option-"+w.val()).prop("selected",!0),w.val(O.find("option:selected").val()),O.addClass("e2-verified"),t!==w.val()&&d()}},error:function(){f&&w.focus()},complete:function(){m=!0,v&&m&&a()}})):m=!0,l=u["db-good"],e()},error:function(){f&&($(".input-editable").prop("disabled",!1),g.add(C).add(h).add(w).val(""),g.focus(),f=!1)},complete:function(){$(".input-editable").prop("disabled",!1),v=!0,v&&m&&a(),(0,n.default)(b,0),b.addClass(c)}})},333)}var o,s,r=null,i=0,l=!1,u=!1,f=!0,b=$(".e2-ajax-loading"),c="e2-ajax-loading_hidden",v="form-element-toggled_hidden",p=$("#form-install"),m=p.find("#submit-button"),g=p.find("#db-server"),C=p.find("#db-user"),h=p.find("#db-password"),w=p.find("#db-database"),x=w.parents(".form-element-toggled"),O=p.find("#db-database-list"),y=O.parents(".form-element-toggled"),j=p.find("#password");!function(){O.on("change",function(){w.val(O.val()),d()})}(),function(){$(".e2-livecheckable").on("input",function(){l=!1,$(".db-everything-ok").removeClass("e2-verified").removeClass("e2-wrong"),e()}).on("blur",function(){var e=$(this),a=$(this).val();void 0!==e.data("e2OldValue")&&a===e.data("e2OldValue")?t():(e.removeClass("e2-verified").removeClass("e2-wrong"),d())})}(),function(){j.on("input",e)}(),$(".input-editable").prop("disabled",!0),d()})}})});