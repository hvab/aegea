$&&$((function(){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=69)}([function(e,t,n){"use strict";var r=n(10);t.a=function(e){var t,n,o,i,s=$(".e2-nice-error"),a=s.find(".e2-nice-error-inner"),l={en:{"er--js-server-error":"Server error","er--js-appears-offline":"The connection appears to be offline","er--js-connection-timeout":"Server does not respond for too long","er--js-file-upload-not-supported":"The browser does not support file upload","er--js-no-files-to-upload":"No files to upload","er--js-can-upload-only-one-file":"Only one file may be uploaded here","er--supported-only-png-jpg-gif":"Only png, webp, jpg, & gif images are supported","er--unsupported-file":"Only png, webp, jpg, gif, & svg images, mp4 & mov videos, and mp3 audio files are supported"},ru:{"er--js-server-error":"Ошибка на сервере","er--js-appears-offline":"Похоже, что нет интернета","er--js-connection-timeout":"Сервер не отвечает слишком долго","er--js-file-upload-not-supported":"Браузер не поддерживает загрузку файлов","er--js-no-files-to-upload":"Нет файлов для загрузки","er--js-can-upload-only-one-file":"Можно загрузить только одно изображение","er--supported-only-png-jpg-gif":"Поддерживаются только изображения png, webp, jpg и gif","er--unsupported-file":"Поддерживаются только изображения png, webp, jpg, gif и svg, видео mp4 и mov и аудиофайлы mp3"},fr:{"er--js-server-error":"Erreur sur le serveur","er--js-appears-offline":"La connexion semble être hors ligne","er--js-connection-timeout":"Le serveur ne répond pas trop longtemps","er--js-file-upload-not-supported":"Le navigateur ne prend pas en charge le téléchargement de fichiers","er--js-no-files-to-upload":"Aucun fichier à télécharger","er--js-can-upload-only-one-file":"Un seul fichier peut être téléchargé ici","er--supported-only-png-jpg-gif":"Seules les images png, webp, jpg et gif sont prises en charge","er--unsupported-file":"Seuls les images png, webp, jpg, gif et svg, vidéos mp4 et mov et les fichiers audio mp3 sont pris en charge"},it:{"er--js-server-error":"Errore sul server","er--js-appears-offline":"La connessione sembra di mancare","er--js-connection-timeout":"Il server non risponde per troppo tempo","er--js-file-upload-not-supported":"Il navigatore web non supporta caricamento dei fili","er--js-no-files-to-upload":"Non ci sono fili da caricare","er--js-can-upload-only-one-file":"Solo un file può essere caricato qui","er--supported-only-png-jpg-gif":"Sono supportati solo immagini png, webp, jpg e gif","er--unsupported-file":"Sono supportati solo immagini png, webp, jpg, gif e svg, video mp4 e mov, e fili audio mp3"},be:{"er--js-server-error":"Памылка на серверы","er--js-appears-offline":"Падобна на тое, што няма інтэрнэту","er--js-connection-timeout":"Сервер не адказвае занадта доўга","er--js-file-upload-not-supported":"Браўзэр не падтрымлівае загрузку файлаў","er--js-no-files-to-upload":"Няма файлаў для загрузкі","er--js-can-upload-only-one-file":"Можна загрузіць толькі адна выява","er--supported-only-png-jpg-gif":"Падтрымлiваюцца толькi выявы png, webp, jpg i gif","er--unsupported-file":"Падтрымлiваюцца толькi выявы png, webp, jpg, gif i svg, відэа mp4 і mov i аудыёфайлы mp3"},uk:{"er--js-server-error":"Помилка на сервері","er--js-appears-offline":"Схоже, що немає інтернету","er--js-connection-timeout":"Сервер не відповідає занадто довго","er--js-file-upload-not-supported":"Браузер не підтримує завантаження файлів","er--js-no-files-to-upload":"Немає файлів для завантаження","er--js-can-upload-only-one-file":"Можна завантажити лише одне зображення","er--supported-only-png-jpg-gif":"Підтримуються лише зображення png, webp, jpg і gif","er--unsupported-file":"Підтримуються лише зображення png, webp, jpg, gif і svg, відео mp4 і mov і аудіофайли mp3"}},c=Object(r.a)();function u(e){"function"==typeof e?c?(s.off(c+".e2NiceError").on(c+".e2NiceError",(function(){s.off(c+".e2NiceError"),e()})),s.addClass("e2-nice-error_hidden")):(s.addClass("e2-nice-error_hidden"),e()):s.addClass("e2-nice-error_hidden")}o=e.message?e.message:"",i=$("html").attr("lang")||"en",o&&(void 0!==l[i][e.message]?o=l[i][e.message]:void 0!==l.en[e.message]&&(o=l.en[e.message]),s.hasClass("e2-nice-error_hidden")?a.html(o).promise().done((function(){s.removeClass("e2-nice-error_hidden"),$(document).on("mousedown.e2NiceError keydown.e2NiceError",(function(){$(document).off(".e2NiceError"),u()}))})):u((function(){a.html(o).promise().done((function(){s.removeClass("e2-nice-error_hidden"),$(document).on("mousedown.e2NiceError keydown.e2NiceError",(function(){$(document).off(".e2NiceError"),u()}))}))}))),"object"==typeof e.debug&&"object"==typeof console&&("function"==typeof window.getComputedStyle&&"function"==typeof window.getComputedStyle(document.documentElement).getPropertyValue&&(t=window.getComputedStyle(document.documentElement).getPropertyValue("--errorColor"),n=window.getComputedStyle(document.documentElement).getPropertyValue("--backgroundColor")),"function"==typeof console.log&&("string"==typeof e.debug.message?console.log("%c "+e.debug.message+" ","background: "+(t||"#D20D19")+"; color: "+(n||"#fff")+";"):"string"==typeof o&&console.log("%c "+o+" ","background: "+(t||"#D20D19")+"; color: "+(n||"#fff")+";")),"function"==typeof console.dir&&"function"==typeof console.log&&"object"==typeof e.debug.data&&$.each(e.debug.data,(function(e,t){if("object"==typeof t&&t instanceof FormData&&"function"==typeof t.entries)for(var n of(console.log(e),t.entries()))console.dir(n[1]);else console.log(e),console.dir(t)})))}},function(e,t,n){"use strict";var r=n(8);t.a=function(e,t){const n=e.find("animateTransform"),o=e.find("circle.e2-progress");n.length&&(t?"indefinite"!==n[0].getAttribute("repeatCount")&&(n[0].setAttribute("repeatCount","indefinite"),n[0].beginElement()):n[0].setAttribute("repeatCount","1"),o.length&&Object(r.a)(o,0,!0))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r=window.localStorage,o=(()=>{if(void 0===r)return!1;try{return r.setItem("test","test"),r.removeItem("test"),!0}catch(e){return!1}})()},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(39))},function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=e.success,n=e.error,o=e.complete,i=e.abort;delete e.success,delete e.error,delete e.complete,delete e.abort;var s=$.ajax($.extend({type:"post",timeout:1e4,dataType:"json",cache:!1},e));return s.done((function(o,i,s){"object"==typeof o?!0===o.success?"function"==typeof t&&t(o,i,s):("object"==typeof o.error?"string"==typeof o.error.message?Object(r.a)({message:o.error.message,debug:{data:{requestData:e.data,response:o}}}):Object(r.a)({message:"er--js-server-error",debug:{message:"Server responce malformed: `response.error.message` is not available",data:{requestData:e.data,response:o}}}):Object(r.a)({message:"er--js-server-error",debug:{message:"Server responce malformed: `response.error` is not an object",data:{requestData:e.data,response:o}}}),"function"==typeof n&&n(s,i)):(Object(r.a)({message:"er--js-server-error",debug:{message:"Server responce malformed: `response` is not an object",data:{requestData:e.data,response:o}}}),"function"==typeof n&&n(s,i))})),s.fail((function(e,t){if("object"==typeof e&&"number"==typeof e.status&&"string"==typeof t)if(0===e.status){if("abort"===t)return"function"==typeof i&&i(e,t),!1;"timeout"===t?Object(r.a)({message:"er--js-connection-timeout"}):Object(r.a)({message:"er--js-appears-offline"})}else e.status>=400?Object(r.a)({message:"er--js-server-error",debug:{message:"Server responded with HTTP status code "+e.status,data:{jqXHR:e}}}):200===e.status&&"parsererror"===t?Object(r.a)({message:"er--js-server-error",debug:{message:"Server response is not JSON",data:{jqXHR:e}}}):Object(r.a)({message:"er--js-server-error",debug:{message:"Unexpected server response HTTP status code "+e.status,data:{jqXHR:e}}});else Object(r.a)({message:"er--js-server-error",debug:{message:"Server responce malformed: jqXHR is not an object or it does not contain required fields",data:{jqXHR:e}}});"function"==typeof n&&n(e,t)})),s.always((function(){"function"==typeof o&&o(arguments)})),s}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));n(17);var r=n(9);const o={};function i(e,t,n){let i;const s={event:"keydown",target:document,prevent:!1};n=function(e,t){if(e){for(let n in t)void 0===e[n]&&(e[n]=t[n]);return e}return t}(n,s),Array.isArray(e)?(i=[],r.a.mac||(e=e.map(e=>e.replace("Cmd","Ctrl"))),e.forEach(e=>i.push(a(e,t,n)))):(r.a.mac||(e=e.replace("Cmd","Ctrl")),i=a(e,t,n));const l="string"==typeof n.target?document.querySelector(n.target):n.target;Array.isArray(i)?i.forEach((r,i)=>{o[e[i]]||(o[e[i]]=[]),l.addEventListener(n.event,r,!1),o[e[i]].push({event:n.event,elem:l,fn:t,realFn:r})}):(o[e]||(o[e]=[]),l.addEventListener(n.event,i,!1),o[e].push({event:n.event,elem:l,fn:t,realFn:i}))}function s(e,t,n){function r(e){o[e]&&o[e].slice().reverse().forEach((e,r,o)=>{e.fn!==t||n.target&&e.elem!==n.target||(e.elem.removeEventListener(e.event,e.realFn,!1),o.splice(o.length-1-r,1))})}n=n||{},Array.isArray(e)?e.forEach(r):r(e)}function a(e,t,n){var r;return e=(r=e,r.toLowerCase().replace(/\s/g,"")).split("+"),r=>{(function(e,t){const n=function(e){switch(e){case 91:case 93:return"MetaKey";case 188:return",";case 190:return".";case 219:return"[";case 221:return"]";default:return String.fromCharCode(e).toLowerCase()}}(e.keyCode),r={enter:13},o={},i=["shift","ctrl","alt","cmd"];let s=0;i.forEach(e=>{o[e]={wanted:!1,pressed:!1}}),e.shiftKey&&(o.shift.pressed=!0);e.ctrlKey&&(o.ctrl.pressed=!0);e.altKey&&(o.alt.pressed=!0);e.metaKey&&(o.cmd.pressed=!0);for(let a=0;a<t.length;a++){const l=t[a];i.indexOf(l)>-1?(s++,o[l].wanted=!0):(l.length>1&&r[l]===e.keyCode||n===l)&&s++}return t.length===s&&Object.keys(o).reduce((e,t)=>e&&o[t].wanted===o[t].pressed,!0)})(r,e)&&(t(r),n.prevent&&(r.preventDefault(),r.stopPropagation()))}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";t.a=function(e,t,n){if("number"!=typeof t)return;const r=Math.max(Math.min(t,.9),.1);n&&e.attr("class","e2-progress e2-progress_notransition"),e[0].style.strokeDashoffset=Math.floor(245-245*r),n&&e.attr("class","e2-progress")}},function(e,t,n){"use strict";t.a={mac:/Macintosh/.test(navigator.userAgent),iosdevice:/(iPad)|(iPhone)/.test(navigator.userAgent),touchdevice:function(){if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;return function(e){return"function"==typeof window.matchMedia&&window.matchMedia(e).matches}(["("," -webkit- -moz- -o- -ms- ".split(" ").join("touch-enabled),("),"heartz",")"].join(""))}()}},function(e,t,n){"use strict";t.a=function(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e];return!1}},function(e,t,n){var r=n(12),o=n(27),i=n(23);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(5);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(36),o=n(15),i=n(33),s=n(16),a=n(13),l=n(62),c=n(64),u=n(66),f=Math.max,p=Math.min;r("replace",2,(function(e,t,n,r){var d=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,h=d?"$":"$0";return[function(n,r){var o=a(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!d&&g||"string"==typeof r&&-1===r.indexOf(h)){var a=n(t,e,this,r);if(a.done)return a.value}var m=o(e),v=String(this),b="function"==typeof r;b||(r=String(r));var x=m.global;if(x){var y=m.unicode;m.lastIndex=0}for(var w=[];;){var $=u(m,v);if(null===$)break;if(w.push($),!x)break;""===String($[0])&&(m.lastIndex=l(v,i(m.lastIndex),y))}for(var E,j="",S=0,_=0;_<w.length;_++){$=w[_];for(var O=String($[0]),C=f(p(s($.index),v.length),0),k=[],I=1;I<$.length;I++)k.push(void 0===(E=$[I])?E:String(E));var T=$.groups;if(b){var L=[O].concat(k,C,v);void 0!==T&&L.push(T);var H=String(r.apply(void 0,L))}else H=c(O,v,C,k,T,r);C>=S&&(j+=v.slice(S,C)+H,S=C+O.length)}return j+v.slice(S)}]}))},function(e,t,n){var r=n(41),o=n(13);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(3),o=n(11);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(3),o=n(19),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){"use strict";var r,o,i=n(58),s=n(59),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||f)&&(c=function(e){var t,n,r,o,s=this,c=f&&s.sticky,d=i.call(s),g=s.source,h=0,m=e;return c&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),m=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,h++),n=new RegExp("^(?:"+g+")",d)),p&&(n=new RegExp("^"+g+"$(?!\\s)",d)),u&&(t=s.lastIndex),r=a.call(c?n:s,m),c?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:u&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),p&&r&&r.length>1&&l.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},function(e,t,n){var r=n(12),o=n(40),i=n(23),s=n(18),a=n(25),l=n(7),c=n(26),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(12),o=n(5),i=n(42);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(12),o=n(26),i=n(15),s=n(25),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(i(e),t=s(t,!0),i(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(3),o=n(11),i=n(7),s=n(19),a=n(29),l=n(43),c=l.get,u=l.enforce,f=String(String).split("String");(e.exports=function(e,t,n,a){var l,c=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),(l=u(n)).source||(l.source=f.join("string"==typeof t?t:""))),e!==r?(c?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=n:o(e,t,n)):p?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},function(e,t,n){var r=n(20),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(46),o=n(20);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.0",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(16),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(5);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6);const o={type:"inline",parse:function({pattern:e,text:t,start:n,end:r,isConsequent:o}){const{value:i,start:s}=d({text:t,start:n,end:r}),a=p({text:i,start:n-s,end:r-s,pattern:e,isConsequent:o});if(!a)return{isWrapped:!1};const l=a.value.split(a.unwrappedValue);return{...a,isWrapped:!0,realStart:a.start+s,realEnd:a.end+s,prefixLength:l[0].length,suffixLength:l[1].length}},wrap:function({elem:e,start:t,end:n,prefix:r,suffix:o}){const i=g({elem:e,start:t,end:n});l({elem:e,text:`${r}${i.value}${o}`,start:i.start,end:i.end,nextStart:t+r.length,nextEnd:n+r.length})},unwrap:c},i={type:"block",parse:function({text:e,start:t,end:n,pattern:r}){const o=s.filter(e=>"block"===e.type),i=e.split("\n").reduce((e,i)=>{const s=e.lastIndex,a=s+i.length;if(!(s<=t&&a>=t||s>=t&&a<=n||s<=n&&a>=n))return{...e,lastIndex:a+1};const l=o.reduce((e,t)=>{if(e)return e;t.regexp.lastIndex=0;const n=t.regexp.exec(i);if(n){const e=n[0],r=n[1],o=n.index,i=n.index+e.length;return{value:e,wrappedBy:t.name,unwrappedValue:r,prefixLength:e.length-r.length,start:o+s,end:i+s}}},null),c=l||{value:i,start:s,end:a};return r.lastIndex=0,{lines:[...e.lines,c],lastIndex:a+1,isWrapped:e.isWrapped&&r.test(c.value)}},{lines:[],lastIndex:0,isWrapped:!0});return delete i.lastIndex,i},wrap:u,unwrap:f},s=[{...o,name:"bold",keys:"Cmd+B",regexp:/\*\*([^\s]{0,2}|[^\s].*?[^\s])\*\*/g,prefix:"**",suffix:"**"},{...o,name:"italic",keys:"Cmd+I",regexp:/\/\/([^\s]{0,2}|[^\s].*?[^\s])\/\//g,prefix:"//",suffix:"//"},{...o,name:"link",keys:"Cmd+K",regexp:/\(\(\s*(.*?)\s*\)\)/g,prefix:"((",suffix:"))",wrap:function({elem:e,start:t,end:n,prefix:r,suffix:o}){const i=g({elem:e,start:t,end:n});let s,c=i.value;i.value?a.test(i.value)?(c=`${r}${i.value} ${o}`,s=i.end+r.length+1):(c=`${r} ${i.value}${o}`,s=i.start+r.length):(c=`${r} ${o}`,s=t+r.length);l({elem:e,text:c,start:i.start,end:i.end,nextStart:s,nextEnd:s})},unwrap:function({elem:e,start:t,end:n,parsed:r}){const{realStart:o,unwrappedValue:i,prefixLength:s}=r,l=i.split(" "),u=o+s;l.length>1&&a.test(l[0])?(e.selectionStart=u,e.selectionEnd=u+l[0].length):c({elem:e,start:t,end:n,parsed:r})}},{...i,name:"header",keys:"Cmd+Alt+1",regexp:/^[^\S\n]*#[^\S\n]*([^#].*)$/g,prefix:"# "},{...i,name:"subheader",keys:"Cmd+Alt+2",regexp:/^[^\S\n]*##[^\S\n]*([^#].*)$/g,prefix:"## "},{...i,name:"remove headers",keys:"Cmd+Alt+0",regexp:/^[^\S\n]*#{1,2}[^\S\n]*([^#].*)$/g,wrap:f},{...i,name:"increase quote level",keys:"Cmd+]",regexp:/^[^\S\n]*>[^\S\n]*(.*)$/g,prefix:"> ",nextPrefix:">",unwrap:u},{...i,name:"decrease quote level",keys:"Cmd+[",regexp:/^[^\S\n]*>[^\S\n]*(.*)$/g,prefix:"> ",wrap(){}}],a=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!/\\\w]*))?)/;function l({elem:e,text:t,start:n,end:r,nextStart:o,nextEnd:i}){e.selectionStart=n,e.selectionEnd=r,document.execCommand("insertText",!1,t),$(e).trigger("input"),e.selectionStart=o,e.selectionEnd=i}function c({elem:e,start:t,end:n,parsed:{realStart:r,realEnd:o,unwrappedValue:i,prefixLength:s,suffixLength:a}}){if(!i.length)return void l({elem:e,text:i,start:r,end:o,nextStart:r,nextEnd:r});let c=t-(r+s),u=n-(o-a);c<0&&(u-=c,c=0),u>0&&(u=0);l({elem:e,text:i,start:r,end:o,nextStart:r+c,nextEnd:r+i.length+u})}function u({elem:e,start:t,end:n,prefix:r,pattern:o,nextPrefix:i,parsed:{lines:s}}){const a=s.reduce((e,t)=>{let n=`${r}${t.value}`;return o.lastIndex=0,o.test(t.value)&&i?n=`${i}${t.value}`:t.unwrappedValue&&(n=`${r}${t.unwrappedValue}`),[...e,n]},[]).join("\n"),c=s[0].start,u=s[s.length-1].end;let f=t-c,p=n-u;p<c-u&&(p+=c-u-p);const d=c,g=c+a.length;l({elem:e,text:a,start:c,end:u,nextStart:d+f+r.length,nextEnd:g+p})}function f({elem:e,start:t,end:n,pattern:r,parsed:{lines:o}}){const i=o.reduce((e,t)=>(r.lastIndex=0,[...e,r.test(t.value)?t.unwrappedValue:t.value]),[]).join("\n"),s=o[0].start,a=o[o.length-1].end,c=s+o[0].prefixLength;let u=t-c,f=n-a;u<0&&(u=0),f<c-a&&(f+=c-a-f);l({elem:e,text:i,start:s,end:a,nextStart:s+u,nextEnd:s+i.length+f})}function p({text:e,start:t,end:n,pattern:r,isConsequent:o}){let i,s=[];for(console.log(e,t,n),r.lastIndex=0;null!==(i=r.exec(e));){console.log(i);const e=i[0],a=i[1],l=i.index,c=i.index+e.length;l<=t&&c>=n&&s.push({value:e,unwrappedValue:a,start:l,end:c}),o&&(r.lastIndex=i.index+1)}return s.length?(s.sort((e,t)=>e.value.length-t.value.length),s[0]):null}function d({text:e,start:t,end:n}){for(t-=1;"\n"!==e[t]&&t>0;)t--;for(0!==t&&t++;"\n"!==e[n]&&n<e.length;)n++;return{value:e.substring(t,n),start:t,end:n}}function g({elem:e,start:t,end:n}){let r=t,o=n,i=e.value.substr(t,n-t);if(t===n){const{value:s,start:a}=d({text:e.value,start:t,end:n}),l=p({text:s,start:t-a,end:n-a,pattern:/[^\s]+/g});l&&(r=l.start+a,o=l.end+a,i=l.value)}return{start:r,end:o,value:i}}var h=function(){let e=this;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode("::selection { background: transparent; }")),s.forEach(({name:o,keys:i,type:s,regexp:a,parse:l,prefix:c,nextPrefix:u,suffix:f,wrap:p,unwrap:d})=>{Object(r.a)(i,(function(){const i=e.selectionStart,g=e.selectionEnd,h=["Cmd+Z","Ctrl+Z"];if("inline"===s&&-1!==e.value.substring(i,g).indexOf("\n"))return;const m=l({name:o,pattern:a,text:e.value,start:i,end:g,isConsequent:!0});console.log(m),m.isWrapped?d({name:o,pattern:a,elem:e,start:i,end:g,parsed:m,prefix:c,nextPrefix:u,suffix:f}):p({name:o,pattern:a,elem:e,start:i,end:g,parsed:m,prefix:c,nextPrefix:u,suffix:f});function v(){t.appendChild(n),setTimeout((function(){e.selectionStart=i,e.selectionEnd=g,t.removeChild(n)}),10),Object(r.b)(h,v,{target:e})}Object(r.a)(h,v,{target:e}),$(e).on("input",(function(){Object(r.b)(h,v,{target:e})}))}),{target:e,prevent:!0})})}},function(e,t,n){"use strict";n(37);var r=n(28),o=n(5),i=n(60),s=n(21),a=n(11),l=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var g=i(e),h=!o((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),m=h&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[g]=/./[g]),n.exec=function(){return t=!0,null},n[g](""),!t}));if(!h||!m||"replace"===e&&(!c||!u||p)||"split"===e&&!d){var v=/./[g],b=n(g,""[e],(function(e,t,n,r,o){return t.exec===s?h&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=b[0],y=b[1];r(String.prototype,e,x),r(RegExp.prototype,g,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}f&&a(RegExp.prototype[g],"sham",!0)}},function(e,t,n){"use strict";var r=n(38),o=n(21);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){var r=n(3),o=n(22).f,i=n(11),s=n(28),a=n(19),l=n(47),c=n(57);e.exports=function(e,t){var n,u,f,p,d,g=e.target,h=e.global,m=e.stat;if(n=h?r:m?r[g]||a(g,{}):(r[g]||{}).prototype)for(u in t){if(p=t[u],f=e.noTargetGet?(d=o(n,u))&&d.value:n[u],!c(h?u:g+(m?".":"#")+u,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;l(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),s(n,u,p,e)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(5),o=n(24),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(3),o=n(14),i=r.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},function(e,t,n){var r,o,i,s=n(44),a=n(3),l=n(14),c=n(11),u=n(7),f=n(20),p=n(45),d=n(32),g=a.WeakMap;if(s){var h=f.state||(f.state=new g),m=h.get,v=h.has,b=h.set;r=function(e,t){return t.facade=e,b.call(h,e,t),t},o=function(e){return m.call(h,e)||{}},i=function(e){return v.call(h,e)}}else{var x=p("state");d[x]=!0,r=function(e,t){return t.facade=e,c(e,x,t),t},o=function(e){return u(e,x)?e[x]:{}},i=function(e){return u(e,x)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(3),o=n(29),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){var r=n(30),o=n(31),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(7),o=n(48),i=n(22),s=n(27);e.exports=function(e,t){for(var n=o(t),a=s.f,l=i.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||a(e,u,l(t,u))}}},function(e,t,n){var r=n(49),o=n(51),i=n(56),s=n(15);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(50),o=n(3),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){var r=n(3);e.exports=r},function(e,t,n){var r=n(52),o=n(55).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(7),o=n(18),i=n(53).indexOf,s=n(32);e.exports=function(e,t){var n,a=o(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(18),o=n(33),i=n(54),s=function(e){return function(t,n,s){var a,l=r(t),c=o(l.length),u=i(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){var r=n(16),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(5),o=/#|\.prototype\./,i=function(e,t){var n=a[s(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},s=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},a=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){"use strict";var r=n(15);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(5);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){var r=n(3),o=n(30),i=n(7),s=n(31),a=n(34),l=n(61),c=o("wks"),u=r.Symbol,f=l?u:u&&u.withoutSetter||s;e.exports=function(e){return i(c,e)||(a&&i(u,e)?c[e]=u[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t,n){var r=n(34);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){"use strict";var r=n(63).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(16),o=n(13),i=function(e){return function(t,n){var i,s,a=String(o(t)),l=r(n),c=a.length;return l<0||l>=c?e?"":void 0:(i=a.charCodeAt(l))<55296||i>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):i:e?a.slice(l,l+2):s-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){var r=n(65),o=Math.floor,i="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,a=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,n,l,c,u){var f=n+e.length,p=l.length,d=a;return void 0!==c&&(c=r(c),d=s),i.call(u,d,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":s=c[i.slice(1,-1)];break;default:var a=+i;if(0===a)return r;if(a>p){var u=o(a/10);return 0===u?r:u<=p?void 0===l[u-1]?i.charAt(1):l[u-1]+i.charAt(1):r}s=l[a-1]}return void 0===s?"":s}))}},function(e,t,n){var r=n(13);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(24),o=n(21);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},,,function(e,t,n){"use strict";n.r(t);var r=n(2);let o=!0;window.addEventListener("focus",()=>o=!0),window.addEventListener("blur",()=>o=!1);var i=function({noteId:e,endpointUrl:t}){if(!r.a)return;if(-1!==JSON.parse(r.b.getItem("read-info")||"[]").indexOf(e))return;let n=0;const i=setInterval(()=>{o&&e===document.e2.currentNoteId&&++n>=1&&(clearInterval(i),function e(n,r=2){const o=new XMLHttpRequest;o.open("GET",t),o.onreadystatechange=()=>{o.readyState===XMLHttpRequest.DONE&&(200!==o.status?setTimeout(()=>{e(n,r+2)},1e3*r):n())},o.send()}(s))},1e3);function s(){const t=JSON.parse(r.b.getItem("read-info")||"[]");t.push(e),r.b.setItem("read-info",JSON.stringify(t))}};var s,a=(s={},function(e){if(e){var t=e.getAttribute("data-swing-id");t||(t="swing-"+Math.floor(1e5*Math.random()),e.setAttribute("data-swing-id",t)),s[t]&&clearTimeout(s[t]);var n=0,r=function(e){var o=(1/(Math.pow(n,1.25)/20+.5)-.05)*Math.sin(n/2);e.style.transform="translateX("+(0+100*o)+"px)",++n<82?s[t]=setTimeout(r.bind(null,e),14):e.style.transform="translateX(0px)"};r(e)}}),l=n(9),c=n(35);var u=function(){var e=document.title;$("input.e2-smart-title").on("input",(function(){this.value?document.title=this.value:e&&(document.title=e)}));var t=function(){var t,n=$(window).scrollTop(),r=e;n>0&&$(".e2-smart-title").each((function(){return!($(this).position().top>n+window.innerHeight)&&(r=$(this).text(),t=$(this).closest(".e2-note").data("note-id").toString(),!($(this).position().top>n)&&void 0)})),document.title=r,document.e2.currentNoteId=t};$(".e2-smart-title").length>1?($(window).on("scroll resize",t),t()):1===$(".e2-smart-title:not(input)").length&&(document.e2.currentNoteId=$(".e2-smart-title:not(input)").closest(".e2-note").data("note-id").toString())};const f=["input","textarea"],p=e=>{const t=e.target.tagName.toLowerCase(),n="true"===e.target.contentEditable||"plaintext-only"===e.target.contentEditable;return f.indexOf(t)<0&&!n};var d=function(){const e=$(".js-search-query");if(0==e.length)return;const t=$("<span />").css({position:"fixed",left:"-1000px",bottom:0}).appendTo("body"),n=$(document);n.on("keydown",(function(t){if(27===t.keyCode)if(t.preventDefault(),e.is(":focus"))e[0].blur();else{if(!p(t))return;e[0].focus()}})),n.on("keydown keypress",(function(n){const r=String.fromCharCode(n.charCode),o=t.html(r).width();e.is(":focus")||p(n)&&r&&r.length&&($("#e2-follow-sheet").hasClass("e2-show")||$("#e2-login-sheet").hasClass("e2-show")||o>0&&!n.metaKey&&!n.ctrlKey&&!n.altKey&&(n.preventDefault(),e.val(e.val()+r),e[0].focus()))}))};var g=function(){const e=document.querySelectorAll("form");for(let t=0;t<e.length;t++){let n=!1,r=e[t],o=r.querySelector("#submit-button");r.addEventListener("submit",e=>{n&&e.preventDefault()}),r.addEventListener("keydown",e=>{if((!o||!o.hasAttribute("disabled"))&&"Enter"===e.code&&e.metaKey){const e=r.target;r.target="_blank",n=!0,setTimeout(()=>{n=!1},30),r.submit(),r.target=e}}),null!==o&&o.addEventListener("click",e=>{if((!o||!o.hasAttribute("disabled"))&&e.metaKey){const e=r.target;r.target="_blank",n=!0,setTimeout(()=>{n=!1},30),r.submit(),r.target=e}})}},h=n(4),m=n(0),v=n(1);n(17);var b=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};var x=function(){var e=function(e){if(e.length){var t=b(),n=e.find(".e2-popup-menu-widget"),r=function(){e.removeClass("e2-popup-menu_open"),e.removeClass("e2-popup-menu_visible"),e.removeClass("e2-popup-menu_widgetfrombottom"),e.removeClass("e2-popup-menu_widgetfromright"),$(document).off("click.e2-popup-menu_open-"+t)};e.find(".e2-popup-menu-button").on("click.e2-popup-menu_open-"+t,(function(){e.hasClass("e2-popup-menu_open")?r():($(document).on("click.e2-popup-menu_open-"+t,(function(t){t.target!==e[0]&&0===e.has(t.target).length&&r()})),e.addClass("e2-popup-menu_open"),e.offset().top+n.position().top+n.outerHeight()>Math.max($("html").outerHeight(),$(window).outerHeight())&&e.addClass("e2-popup-menu_widgetfrombottom"),e.offset().left+n.position().left+n.outerWidth()>$(window).outerWidth()&&e.addClass("e2-popup-menu_widgetfromright"),e.addClass("e2-popup-menu_visible"))})),e.find(".e2-popup-menu-widget-item").on("click",(function(){if("do-not-close-popup-menu"===$(this).data("e2-popup-menu-action"))return!0;r()}))}};$(".e2-popup-menu").each((function(){e($(this))})),$(document).on("E2_ADMIN_ITEM_WITH_POPUP_MENU_INIT",(function(t,n){!n.$popupMenu instanceof jQuery||e(n.$popupMenu)}))};var y=function(){const e=/^\s*([a-z0-9_.-])+@[a-z0-9-]+\.([a-z]{2,11}\.)?[a-z]{2,11}\s*$/i,t=$("#form-comment"),n=t.find("#name"),r=t.find("#email"),o=t.find(".e2-gips"),i=t.find(".e2-email-fields"),s=t.find("#submit-button"),l=t.data("cookie"),c=t.data("cookie-value");function u(){var t=o.hasClass("required"),a=$("#text").val();t&&i.is(":visible")&&(n.length&&!n.val()&&(a=!1),r.length&&!e.test(r.val())&&(a=!1)),a?(s.prop("disabled",!1),s.hide().show(0)):(s.prop("disabled",!0),s.hide().show(0))}t.length&&($(".required").on("input blur cut copy paste keypress",u),u(),t.on("submit",(function(){var t=o.hasClass("required");return function(e,t){const n=new Date((new Date).getTime()+5184e6);document.cookie=e+"="+t+";path=/;expires="+n.toUTCString()}(l,c),!(o.length&&o.is(":visible")&&t&&!(t&&i.is(":visible")&&n.val()&&e.test(r.val())))||(a(o[0]),!1)})).show()),$(".e2-email-fields-revealer").on("click",(function(e){e.preventDefault(),i.show(),u(),$(this).hide()})),$(".e2-gips a.e2-gip-link").on("click",(function(e){e.preventDefault();let t=$(this).attr("href"),n=function(){let e=window.innerWidth,t=window.innerHeight,n=window.screenY,r=window.screenX,o={};return o.width=e,o.height=t,o.top=n,o.left=r,o}();let r=n.left+n.width/2-300,o=n.top+n.height/2-300;r<0&&(r=50),o<0&&(o=50),window.open(t,"gips","left="+r+",top="+o+",width=600,height=600,centerscreen")})),window.oauthAuthorized=function(e){$(".e2-hide-on-login").hide(),$(".e2-gips").removeClass("required"),$(".e2-gip-info").find(".name").text(e.name).end().find(".e2-gip-icon").html(e.gipIcon).end().find(".e2-gip-logout-url").attr("href",e.logoutUrl).end().show(),u()}};function w(){var e=$(this);if(!e.hasClass("e2-textarea-autosize_off")){var t,n=parseInt(this.clientHeight);if(this.scrollHeight>n)this.style.height=this.scrollHeight+"px";else{var r=e.clone();for(r.css("visibility","hidden").css("position","absolute").css("width",e.width()),e.before(r);parseInt(r[0].scrollHeight)===n;)n-=50,r[0].style.height=n+"px",t=parseInt(r[0].scrollHeight),r[0].style.height=t+"px";r.remove(),this.style.height=t+"px"}e.trigger("autosized")}}var E=function(){$(this).on("input change resize",w),w.call(this)};class j{constructor(e){this.$scrollWrapper=e,this.$scroll=e.find(".js-band-scrollable-inner"),this.$window=$(window),this.hasItems=this.$scroll.find(".band-item").length,this.hasItems&&(this.scrollResize=new ResizeObserver((e,t)=>{this.checkScrollStartIsHide(),this.checkScrollEndIsHide()}),this.toggleScrollable(),this.checkActiveElement(),this.checkScrollStartIsHide(),this.checkScrollEndIsHide(),this.bindEvents())}get isScrollable(){return this.$scroll.get(0).scrollWidth>this.$scroll.get(0).offsetWidth}bindEvents(){$(window).on("resize",()=>{this.toggleScrollable(),this.checkActiveElement()}),this.$scroll.on("scroll",e=>{var t=e.currentTarget.scrollLeft;this.hasScrollEndedOnTheRight(t),this.hasScrollEndedOnTheLeft(t)}),this.scrollResize.observe(this.$scrollWrapper[0])}hasScrollEndedOnTheRight(e){var t=this.$scroll.get(0).scrollWidth,n=this.$scroll.get(0).offsetWidth,r=this.$scroll.children().last();t-(parseFloat(r.css("padding-right"))+parseFloat(r.css("margin-right")))-e<=n?this.$scrollWrapper.removeClass("has__endHide"):this.$scrollWrapper.addClass("has__endHide")}hasScrollEndedOnTheLeft(e){e<=0?this.$scrollWrapper.removeClass("has__startHide"):this.$scrollWrapper.addClass("has__startHide")}toggleScrollable(){this.$scrollWrapper.toggleClass("is__scrollable",this.isScrollable),this.isScrollable||this.$scrollWrapper.removeClass("has__startHide has__endHide")}checkActiveElement(){this.$activeElement=this.$scroll.find(".band-item.band-item-current, .band-item.band-item-parent").first(),this.$activeElement.length&&this.isScrollable&&this.scrollToActiveItem()}scrollToActiveItem(){var e=this.$activeElement.prevAll(".band-item").get().reduce((e,t)=>e+$(t).outerWidth(!0),0),t=this.$scroll.width(),n=this.$scroll.scrollLeft(),r=this.$activeElement.width();e-28>=n&&e+r+28<=n+t||this.$scroll.scrollLeft(e-t/2+r/2)}checkScrollStartIsHide(){this.$scroll.find("nav .band-item").first().offset().left<this.$scroll.offset().left?this.$scrollWrapper.addClass("has__startHide"):this.$scrollWrapper.removeClass("has__startHide")}checkScrollEndIsHide(){var e=this.$scroll.children().last();Math.round(e.offset().left+e.outerWidth())>Math.ceil(this.$scroll.offset().left+this.$scroll.outerWidth(!0))?this.$scrollWrapper.addClass("has__endHide"):this.$scrollWrapper.removeClass("has__endHide")}}$.fn.scrollingModule=function(){$(this).each((function(){return new j($(this))}))};var S=function(){$(".js-band-scrollable").scrollingModule()};y(),u(),g(),d(),S(),function(){$("#text").each(c.a);var e=$();if($(document).on("mouseover","a[href]",(function(){var t=$(this).attr("href");t&&t.indexOf("#")>=0&&(t=t.substr(0,t.indexOf("#"))),t&&!t.match(/^javascript:/)&&(e=$('a[href="'+t+'"]').addClass("hover"))})).on("mouseout","a[href]",(function(t){if("object"==typeof t&&"object"==typeof t.currentTarget&&"object"==typeof t.relatedTarget&&$(t.currentTarget).find(t.relatedTarget).length>0)return!0;e.removeClass("hover"),e=$()})),$("a[linkredir]").each((function(){var e=$(this);e.attr("href",e.attr("linkredir")+e.attr("href")),e.removeAttr("linkredir")})),$("#e2-login-sheet").length){var t=$("#e2-visual-login"),n=$("#e2-login-sheet"),o=n.find("#form-login"),s=o.find("#e2-password"),l=o.find(".e2-login-window-password-checking"),u=!1;s.focus(),o.on("submit",(function(e){if(u)return!0;e.preventDefault(),o.find(".input-disableable").prop("disabled",!0),s.blur(),Object(v.a)(l,1),l.fadeIn(200);var t=Object(h.a)({url:$("#e2-check-password-action").attr("href"),data:{password:s.val()},success:function(e){if(o.find(".input-disableable").prop("disabled",!1),void 0===e.data||void 0===e.data["password-correct"])return Object(v.a)(l,0),l.fadeOut(200),Object(m.a)({message:"er--js-server-error",debug:{message:"Server response malformed",data:{response:e}}}),!1;e.data["password-correct"]?(Object(v.a)(l,0),l.hide(),$("#password-correct").fadeIn(200,(function(){u=!0,o.submit()}))):(Object(v.a)(l,0),l.fadeOut(200),s.focus(),a($("#e2-login-window")[0]))},error:function(){o.find(".input-disableable").prop("disabled",!1),Object(v.a)(l,0),l.fadeOut(200)},abort:function(){o.find(".input-disableable").prop("disabled",!1),Object(v.a)(l,0),l.fadeOut(200)}});return o.data("formLoginAjaxRequest",t),!1})),n.on("E2_SHOW_LOGIN_SHEET",(function(){n.addClass("e2-show"),setTimeout((function(){s.focus()}),100),t.addClass("e2-visual-login_hidden")})).on("E2_HIDE_LOGIN_SHEET",(function(){if(!n.hasClass("e2-hideable"))return!1;s.blur(),n.removeClass("e2-show"),"object"==typeof o.data("formLoginAjaxRequest")&&o.data("formLoginAjaxRequest").abort(),t.removeClass("e2-visual-login_hidden")})),n.on("click",(function(e){e.target===this&&$("#e2-login-sheet").trigger("E2_HIDE_LOGIN_SHEET")})),t.length&&($(document).on("mousemove",(function(e){var n=t.offset(),r=n.left,o=n.top,i=e.pageX,s=e.pageY,a=Math.pow(Math.pow(i-r,2)+Math.pow(s-o,2),.5);a=((a=Math.max(Math.min(a,600),100))-100)/500,t.css("opacity",.25+.75*(1-a))})),t.on("click",(function(e){return e.preventDefault(),n.trigger("E2_SHOW_LOGIN_SHEET"),!1})))}if($("#e2-follow-sheet").length&&$(".e2-follow-button").length){var f=$(".e2-follow-button");$("#e2-follow-sheet").on("E2_SHOW_FOLLOW_SHEET",(function(){$(this).addClass("e2-show")})).on("E2_HIDE_FOLLOW_SHEET",(function(){$(this).removeClass("e2-show")})).on("click",(function(e){e.target===this&&$("#e2-follow-sheet").trigger("E2_HIDE_FOLLOW_SHEET")})),f.addClass("e2-follow-button-visible").on("click",(function(e){return e.preventDefault(),$("#e2-follow-sheet").trigger("E2_SHOW_FOLLOW_SHEET"),!1}))}$(".e2-textarea-autosize").each(E);var p=$(".e2-note");if(p.length&&r.a){p.map((e,t)=>{!function(e){const t=e.data("note-id").toString(),n=e.data("note-read-href");void 0!==n&&i({noteId:t,endpointUrl:n})}($(t))})}}(),l.a.touchdevice||$(".e2-keyboard-shortcut").addClass("e2-keyboard-shortcut_visible"),$(document).on("keydown keyup keypress",(function(e){if(13===e.which){var t=e.target||e.srcElement;if(t&&t.form){var n=$(t.form);if(n.hasClass("e2-enterable"))return;if(!e.ctrlKey&&$(t).is("textarea"))return;return e.preventDefault(),e.ctrlKey&&"keydown"===e.type&&n.find("#submit-button").length&&!n.find("#submit-button").is(":disabled")&&n.trigger("submit"),!1}}if("keyup"===e.type){if(27===e.which&&($("#e2-follow-sheet").trigger("E2_HIDE_FOLLOW_SHEET"),$("#e2-login-sheet").trigger("E2_HIDE_LOGIN_SHEET")),69===e.which&&e.altKey){var r=$(".e2-edit-link");r.length&&(window.location.href=r.eq(0).attr("href"))}var o=e.target.nodeName.toLowerCase();if("input"!==o&&"textarea"!==o&&"select"!==o&&"option"!==o&&"button"!==o&&(void 0===$(e.target).attr("contenteditable")||"false"===$(e.target).attr("contenteditable"))&&(l.a.mac&&e.altKey&&!e.shiftKey||!l.a.mac&&e.ctrlKey)){var i;switch(e.which){case 37:i=$("#link-prev").attr("href");break;case 39:i=$("#link-next").attr("href");break;case 38:i=$("#link-later").attr("href");break;case 40:i=$("#link-earlier").attr("href")}i&&(window.location.href=i,window.event&&(window.event.returnValue=!1),e.preventDefault&&e.preventDefault())}}})),x()}])}));